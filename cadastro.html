<!DOCTYPE html>
<html lang="port-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Inova Tech - Cadastro</title>
</head>
<body>
  <header>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">Tech Solutions</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./cadastro.html">Cadastro</a>
              </li>     
              <li class="nav-item">
                <a class="nav-link" href="./serviços.html">Serviços</a>
              </li>      
            </ul>
          </div>
        </div>
      </nav>
  </header>

<h1>Cadastro</h1>



<form id="formularioMeu">
  <label for="nome">Nome:</label>
  <input type="text"  required pattern="[a-zA-Z\s]+$" title="Digite letras maiusculas e minusculas" placeholder="ex: Alice Rodrigues" id="nome" name="nome" >

  <label for="email">email:</label>
  <input type="email" required pattern="[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$" title="Digite seu email completo" placeholder="ex:alice@email.com" id="email" name="email" required>
  <br>

  <label for="telefone">Telefone:</label>
  <input type="text" title="Digite seu telefone" placeholder="ex:(21) 96979890" id="telefone" name="telefone" required>
  <br>

  <label for="cidade">cidade:</label>
  <input type="text"  required pattern="[a-zA-Z\s]+$" title="Digite sua cidade"  id="cidade" name="cidade" required>
  <br>

  <label for="estado">Estado:</label>
  <input type="text"  required pattern="[a-zA-Z\s]+$" title="Digite seu estado" id="estado" name="estado" required>
  <br>

  <label for="bairro">Bairro:</label>
  <input type="text"  required pattern="[a-zA-Z\s]+$" title="Digite seu bairro" id="bairro" name="bairro" required>
  <br>

  <label for="cep">Cep:</label>
  <input type="text"  title="Digite seu CEP" id="cep" name="cep" required>
  <br>

  <button type="submit">Enviar</button>
  </form>


  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-analytics.js";
    import {getFirestore, collection, addDoc, serverTimestamp} from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyA51Py8iR8qXpOuKLhVO60GCbnT9-G87uo",
      authDomain: "revisao-1bd04.firebaseapp.com",
      projectId: "revisao-1bd04",
      storageBucket: "revisao-1bd04.firebasestorage.app",
      messagingSenderId: "268902145237",
      appId: "1:268902145237:web:a4cb52de4b6aefa58c565c",
      measurementId: "G-T71RN0DTED"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);

    const db= getFirestore(app)
    document.getElementById('formularioMeu').addEventListener('submit', async function(event){
      event.preventDefault();

      const nome = document.getElementById('nome').value;
      const email = document.getElementById('email').value;
      const telefone = document.getElementById('telefone').value;
      const cidade = document.getElementById('cidade').value;
      const estado = document.getElementById('estado').value;
      const bairro = document.getElementById('bairro').value;
      const cep = document.getElementById('cep').value;

      try {
        await addDoc(collection(db, 'revisao'), {
          nome: nome,
          email: email,
          telefone: telefone, 
          cidade: cidade,
          estado: estado,
          bairro: bairro,
          cep: cep,
          timestamp: serverTimestamp()
        } );
        alert('Dados enviados com sucesso!');
        document.getElementById('formularioMeu').reset();
      } catch (error) {
        console.error('Erro ao enviar dados: ', error);
    }
  });




  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</body>
</html>